<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Snake bytes: Python's enum - Technology Musings</title><meta name=Description content="Technology Musings"><meta property="og:title" content="Snake bytes: Python's enum"><meta property="og:description" content="Python&rsquo;s enums tripped me up on my first encounter mostly because of the value assignment syntax."><meta property="og:type" content="article"><meta property="og:url" content="https://rbrincke.github.io/posts/snakebytes-enum/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-14T20:04:36+01:00"><meta property="article:modified_time" content="2022-11-14T20:04:36+01:00"><meta property="og:site_name" content="Technology Musings"><meta name=twitter:card content="summary"><meta name=twitter:title content="Snake bytes: Python's enum"><meta name=twitter:description content="Python&rsquo;s enums tripped me up on my first encounter mostly because of the value assignment syntax."><meta name=application-name content="Technology Musings"><meta name=apple-mobile-web-app-title content="Technology Musings"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://rbrincke.github.io/posts/snakebytes-enum/><link rel=prev href=https://rbrincke.github.io/posts/snakebytes-tuple/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Snake bytes: Python's enum","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/rbrincke.github.io\/posts\/snakebytes-enum\/"},"genre":"posts","keywords":"Python, enum, programming","wordcount":403,"url":"https:\/\/rbrincke.github.io\/posts\/snakebytes-enum\/","datePublished":"2022-11-14T20:04:36+01:00","dateModified":"2022-11-14T20:04:36+01:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Robert ten Brincke"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Technology Musings">Technology Musings</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Technology Musings">Technology Musings</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Snake bytes: Python's enum</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Robert ten Brincke</a></span>&nbsp;<span class=post-category>included in <a href=/categories/snakebytes/><i class="far fa-folder fa-fw" aria-hidden=true></i>Snakebytes</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-11-14>2022-11-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;403 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;2 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents></nav></div></div><div class=content id=content><p>Python&rsquo;s enums tripped me up on my first encounter mostly because of the value assignment syntax.</p><p>In Python, enums are simple classes that extend the <code>enum.Enum</code> class and in which enum variants appear as class members.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Names</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>Homer</span> <span class=o>=</span> <span class=s1>&#39;Homer&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>Marge</span> <span class=o>=</span> <span class=s1>&#39;Marge&#39;</span>
</span></span></code></pre></div><p>The assignment associates the enum variant with a value, in this case a string. Extending the <code>Enum</code> class gives
you the variant&rsquo;s <code>name</code> and its <code>value</code> as properties out of the box. It also implements an iterator, so you can get
the enum&rsquo;s variants via an expression such as <code>set(Names)</code>.</p><p>I&rsquo;d argue that the use of assigned values is somewhat confusing for those coming from other languages. For starters,
variants with the same value serve as aliases and are considered equal to one another.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Names</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>Homer</span> <span class=o>=</span> <span class=s1>&#39;Homer&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>Marge</span> <span class=o>=</span> <span class=s1>&#39;Marge&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>Homey</span> <span class=o>=</span> <span class=s1>&#39;Homer&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Names</span><span class=o>.</span><span class=n>Homer</span> <span class=ow>is</span> <span class=n>Names</span><span class=o>.</span><span class=n>Homey</span><span class=p>)</span>  <span class=c1># True</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>Names</span><span class=p>))</span>  <span class=c1># 2</span>
</span></span></code></pre></div><p>This is surprising and feels like it could lead to unintended consequences. Python offers a few ways out: annotate the
class <code>@unique</code>, or use <code>auto()</code> to set the value to equal the variant&rsquo;s name.</p><p>Additionally, the assigned values syntax bears a resemblance to enums in C, where an enum <em>is</em> an integer type. Despite
the assignment of a value seemingly suggesting that this is like assigning a string to a variable, that is not the case.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Names</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>Homer</span> <span class=o>=</span> <span class=s1>&#39;Homer&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>Marge</span> <span class=o>=</span> <span class=s1>&#39;Marge&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Names</span><span class=o>.</span><span class=n>Homer</span> <span class=o>==</span> <span class=s1>&#39;Homer&#39;</span><span class=p>)</span>  <span class=c1># False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>print_name</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>print_name</span><span class=p>(</span><span class=n>Names</span><span class=o>.</span><span class=n>Homer</span><span class=p>)</span>  <span class=c1># Type error</span>
</span></span></code></pre></div><p>There is however a way to make it behave precisely like this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Names</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>Homer</span> <span class=o>=</span> <span class=s1>&#39;Homer&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>Marge</span> <span class=o>=</span> <span class=s1>&#39;Marge&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Names</span><span class=o>.</span><span class=n>Homer</span> <span class=o>==</span> <span class=s1>&#39;Homer&#39;</span><span class=p>)</span>  <span class=c1># True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>print_name</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>print_name</span><span class=p>(</span><span class=n>Names</span><span class=o>.</span><span class=n>Homer</span><span class=p>)</span>  <span class=c1># &#39;Names.Homer&#39; (note this is not just &#39;Homer&#39;)</span>
</span></span></code></pre></div><p>By adding the mix-in <code>str</code>, <code>Names.Homer</code> is now also a string <code>'Homer'</code>. In fact, the string is constructed via a call
to <code>str</code>&rsquo;s <code>__init__</code> method using the argument <code>'Homer'</code>. Multiple arguments are provided as a tuple.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>enum</span> <span class=kn>import</span> <span class=n>Enum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>FullName</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>first</span><span class=p>,</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>first</span> <span class=o>=</span> <span class=n>first</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>last</span> <span class=o>=</span> <span class=n>last</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Names</span><span class=p>(</span><span class=n>FullName</span><span class=p>,</span> <span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>Homer</span> <span class=o>=</span> <span class=s2>&#34;Homer&#34;</span><span class=p>,</span> <span class=s2>&#34;Simpson&#34;</span>  <span class=c1># Tuple.</span>
</span></span><span class=line><span class=cl>    <span class=n>Marge</span> <span class=o>=</span> <span class=s2>&#34;Marge&#34;</span><span class=p>,</span> <span class=s2>&#34;Simpson&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>print_name</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>FullName</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>name</span><span class=o>.</span><span class=n>last</span><span class=si>}</span><span class=s1>, </span><span class=si>{</span><span class=n>name</span><span class=o>.</span><span class=n>first</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>print_name</span><span class=p>(</span><span class=n>Names</span><span class=o>.</span><span class=n>Homer</span><span class=p>)</span>  <span class=c1># Simpson, Homer</span>
</span></span></code></pre></div><p>Try adding <code>Bart = "Bart"</code>: you&rsquo;ll get an error &ldquo;missing 1 required positional argument: &rsquo;last&rsquo;&rdquo;.</p><p>Of course, your properties cannot be named <code>name</code> or <code>value</code> because <code>Enum</code> already defines those.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-11-14</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://rbrincke.github.io/posts/snakebytes-enum/ data-title="Snake bytes: Python's enum" data-via=rhwtenbrincke data-hashtags=Python,enum,programming><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://rbrincke.github.io/posts/snakebytes-enum/ data-hashtag=Python><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://rbrincke.github.io/posts/snakebytes-enum/ data-title="Snake bytes: Python's enum"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://rbrincke.github.io/posts/snakebytes-enum/ data-title="Snake bytes: Python's enum"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://rbrincke.github.io/posts/snakebytes-enum/ data-title="Snake bytes: Python's enum"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/python/>Python</a>,&nbsp;<a href=/tags/enum/>enum</a>,&nbsp;<a href=/tags/programming/>programming</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/snakebytes-tuple/ class=prev rel=prev title="Snake bytes: Python's enum"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Snake bytes: Python's enum</a></div></div></article></div></main></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>